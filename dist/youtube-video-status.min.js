"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getResourceText(e){var t,a,r,u;return _regenerator2["default"].async(function(s){for(;;)switch(s.prev=s.next){case 0:return t={main:"#unavailable-message",sub:"#unavailable-submessage"},a={uri:"https://www.youtube.com/watch",headers:{"accept-language":"en"},qs:{v:e},transform:function(e){return _cheerio2["default"].load(e)}},s.next=4,_regenerator2["default"].awrap((0,_requestPromise2["default"])(a));case 4:return r=s.sent,u=_ramda2["default"].pipe(r,_ramda2["default"].invoker(0,"text")),s.abrupt("return",_ramda2["default"].evolve({main:u,sub:u},t));case 7:case"end":return s.stop()}},null,this)}function status(e){var t;return _regenerator2["default"].async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_regenerator2["default"].awrap(getResourceText(e));case 2:return t=a.sent,a.abrupt("return",detectStatus(t));case 4:case"end":return a.stop()}},null,this)}function detectStatus(e){var t=e.main+e.sub,a=_ramda2["default"].test(/private/i),r=_ramda2["default"].both(_ramda2["default"].test(/unavailable/i),_ramda2["default"].complement(_ramda2["default"].test(/sorry/i))),u=_ramda2["default"].either(_ramda2["default"].test(/not exist/i),_ramda2["default"].both(_ramda2["default"].test(/unavailable/i),_ramda2["default"].test(/sorry/i)));return _ramda2["default"].cond([[a,_ramda2["default"].always("private")],[r,_ramda2["default"].always("accessible")],[u,_ramda2["default"].always("unavailable")],[_ramda2["default"].T,_ramda2["default"].always("unknown")]])(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.detectStatus=exports.getResourceText=exports.status=void 0;var _regenerator=require("babel-runtime/regenerator"),_regenerator2=_interopRequireDefault(_regenerator),_ramda=require("ramda"),_ramda2=_interopRequireDefault(_ramda),_requestPromise=require("request-promise"),_requestPromise2=_interopRequireDefault(_requestPromise),_cheerio=require("cheerio"),_cheerio2=_interopRequireDefault(_cheerio),video={status:status,getResourceText:getResourceText,detectStatus:detectStatus};exports["default"]=video,exports.status=status,exports.getResourceText=getResourceText,exports.detectStatus=detectStatus;
//# sourceMappingURL=youtube-video-status.min.js.map
